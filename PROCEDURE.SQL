/*
    1- OGNI 3 MESI VIENE RILASCIATO L'ESTRATTO CONTO
*/

/*
    2- ELIMINARE DAL DATABASE TUTTE LE CARTE SCADUTE CHE HANNO DEPOSITATO MENO DI 500 E SONO REGISTRATI SUL CONTO VIRTUALE DA MENO DI UN ANNO
*/
CREATE OR REPLACE PROCEDURE ELIMINARE_CARTE_SCADUTE
IS
BEGIN
    FOR i IN
        (
            SELECT NUMERO_CARTA
            FROM CARTA_DI_CREDITO
            WHERE DATA_DI_SCADENZA > SYSDATE
        )
    LOOP
        IF 
        DELETE FROM CARTA_DI_CREDITO WHERE NUMERO_CONTO = i.NUMERO_CONTO;
    END LOOP;
END ELIMINARE_CARTE_SCADUTE;

/*
    3- RICAVO/PERDITA MENSILE
*/

/*
    4- VERIFICA VALIDITA' ACCOUNT
*/

